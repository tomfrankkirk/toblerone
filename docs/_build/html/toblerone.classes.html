

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>toblerone.classes package &mdash; Toblerone v0.6.20 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> Toblerone
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">toblerone.classes package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-toblerone.classes.common_parser">toblerone.classes.common_parser module</a></li>
<li><a class="reference internal" href="#module-toblerone.classes.image_space">toblerone.classes.image_space module</a></li>
<li><a class="reference internal" href="#module-toblerone.classes.surfaces">toblerone.classes.surfaces module</a></li>
<li><a class="reference internal" href="#module-toblerone.classes">Module contents</a></li>
</ul>
</li>
</ul>
</div>
            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Toblerone</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>toblerone.classes package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/toblerone.classes.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="toblerone-classes-package">
<h1>toblerone.classes package<a class="headerlink" href="#toblerone-classes-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-toblerone.classes.common_parser">
<span id="toblerone-classes-common-parser-module"></span><h2>toblerone.classes.common_parser module<a class="headerlink" href="#module-toblerone.classes.common_parser" title="Permalink to this headline">¶</a></h2>
<p>CommonParser: a subclass of the library ArgumentParser object pre-configured
to parse arguments that are common to many pvtools functions</p>
<dl class="py class">
<dt id="toblerone.classes.common_parser.CommonParser">
<em class="property">class </em><code class="sig-prename descclassname">toblerone.classes.common_parser.</code><code class="sig-name descname">CommonParser</code><a class="headerlink" href="#toblerone.classes.common_parser.CommonParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">argparse.ArgumentParser</span></code></p>
<p>Preconfigured subclass of ArgumentParser to parse arguments that
are common across pvtools functions. To use, instantiate an object,
then call add_argument to add in the arguments unique to the particular
function in which it is being used, then finally call parse_args as
normal.</p>
<dl class="py method">
<dt id="toblerone.classes.common_parser.CommonParser.parse">
<code class="sig-name descname">parse</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.common_parser.CommonParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-toblerone.classes.image_space">
<span id="toblerone-classes-image-space-module"></span><h2>toblerone.classes.image_space module<a class="headerlink" href="#module-toblerone.classes.image_space" title="Permalink to this headline">¶</a></h2>
<p>ImageSpace: image matrix, inc dimensions, voxel size, vox2world matrix and
inverse, of an image. Inherits most methods and properties from
regtricks.ImageSpace.</p>
<dl class="py class">
<dt id="toblerone.classes.image_space.ImageSpace">
<em class="property">class </em><code class="sig-prename descclassname">toblerone.classes.image_space.</code><code class="sig-name descname">ImageSpace</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">regtricks.image_space.ImageSpace</span></code></p>
<p>Voxel grid of an image, ignoring actual image data.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> – path to image file</p>
</dd>
</dl>
<dl class="py attribute">
<dt id="toblerone.classes.image_space.ImageSpace.size">
<code class="sig-name descname">size</code><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace.size" title="Permalink to this definition">¶</a></dt>
<dd><p>array of voxel counts in each dimension</p>
</dd></dl>

<dl class="py attribute">
<dt id="toblerone.classes.image_space.ImageSpace.vox_size">
<code class="sig-name descname">vox_size</code><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace.vox_size" title="Permalink to this definition">¶</a></dt>
<dd><p>array of voxel size in each dimension</p>
</dd></dl>

<dl class="py attribute">
<dt id="toblerone.classes.image_space.ImageSpace.vox2world">
<code class="sig-name descname">vox2world</code><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace.vox2world" title="Permalink to this definition">¶</a></dt>
<dd><p>4x4 affine to transform voxel coords -&gt; world</p>
</dd></dl>

<dl class="py attribute">
<dt id="toblerone.classes.image_space.ImageSpace.world2vox">
<code class="sig-name descname">world2vox</code><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace.world2vox" title="Permalink to this definition">¶</a></dt>
<dd><p>inverse of above</p>
</dd></dl>

<dl class="py attribute">
<dt id="toblerone.classes.image_space.ImageSpace.self.offset">
<code class="sig-prename descclassname">self.</code><code class="sig-name descname">offset</code><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace.self.offset" title="Permalink to this definition">¶</a></dt>
<dd><p>private variable used for derived spaces</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.image_space.ImageSpace.derives_from">
<code class="sig-name descname">derives_from</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">parent</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace.derives_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Logical test whether this ImageSpace was derived from another.
“Derived” means sharing i,j,k unit vectors and having their origins
shifted by an integer multiple of voxels relative to each other.</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.image_space.ImageSpace.minimal_enclosing">
<em class="property">classmethod </em><code class="sig-name descname">minimal_enclosing</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">surfs</span></em>, <em class="sig-param"><span class="n">reference</span></em>, <em class="sig-param"><span class="n">affine</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.image_space.ImageSpace.minimal_enclosing" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the minimal space required to enclose a set of surfaces.
This space will be based upon the reference, sharing its voxel
size and i,j,k unit vectors from the voxel2world matrix, but
will may have a different FoV. The offset of the voxel coord system
relative to reference will be stored as the space.offset attribute</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>surfs</strong> – singular or list of surface objects</p></li>
<li><p><strong>reference</strong> – ImageSpace object or path to image to use</p></li>
<li><p><strong>affine</strong> – 4x4 np.array, transformation INTO the reference space,
in world-world mm terms (ie, not a FLIRT scaled-voxel
matrix). See utils._FLIRT_to_world() for help. Pass None
to represent identity</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><dl class="simple">
<dt>ImageSpace object, with a shifted origin and potentially different</dt><dd><p>FoV relative to the reference. Subtract offset from coords in
this space to return them to original reference coords.</p>
</dd>
</dl>
</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-toblerone.classes.surfaces">
<span id="toblerone-classes-surfaces-module"></span><h2>toblerone.classes.surfaces module<a class="headerlink" href="#module-toblerone.classes.surfaces" title="Permalink to this headline">¶</a></h2>
<p>Tobleroe surface-related classes</p>
<dl class="simple">
<dt>Surface: the points and triangles of a surface, and various calculated</dt><dd><p>properties that are evaluated ahead of time to speed up later operations</p>
</dd>
<dt>Hemisphere: a pair of surfaces, used specifically to represent one half</dt><dd><p>of the cerebral cortex (referred to as inner and outer surfaces)</p>
</dd>
<dt>Patch: a subcalss of Surface, representing a smaller portion of a surface,</dt><dd><p>used to reduce computational complexity of operations</p>
</dd>
</dl>
<dl class="py class">
<dt id="toblerone.classes.surfaces.Hemisphere">
<em class="property">class </em><code class="sig-prename descclassname">toblerone.classes.surfaces.</code><code class="sig-name descname">Hemisphere</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">inpath</span></em>, <em class="sig-param"><span class="n">outpath</span></em>, <em class="sig-param"><span class="n">side</span><span class="o">=</span><span class="default_value">''</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Hemisphere" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>The white and pial surfaces of a hemisphere, and a repository to
store data when calculating tissue PVs from the fractions of each
surface</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inpath</strong> – path to white surface</p></li>
<li><p><strong>outpath</strong> – path to pial surface</p></li>
<li><p><strong>side</strong> – ‘L’ or ‘R’</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="toblerone.classes.surfaces.Hemisphere.apply_transform">
<code class="sig-name descname">apply_transform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">mat</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Hemisphere.apply_transform" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Hemisphere.manual">
<em class="property">classmethod </em><code class="sig-name descname">manual</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">insurf</span></em>, <em class="sig-param"><span class="n">outsurf</span></em>, <em class="sig-param"><span class="n">side</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Hemisphere.manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Manual hemisphere constructor</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Hemisphere.surf_dict">
<code class="sig-name descname">surf_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Hemisphere.surf_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Return surfs as dict with appropriate keys (eg LPS)</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Hemisphere.surfs">
<em class="property">property </em><code class="sig-name descname">surfs</code><a class="headerlink" href="#toblerone.classes.surfaces.Hemisphere.surfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Iterator over the inner/outer surfaces</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="toblerone.classes.surfaces.Patch">
<em class="property">class </em><code class="sig-prename descclassname">toblerone.classes.surfaces.</code><code class="sig-name descname">Patch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">points</span></em>, <em class="sig-param"><span class="n">tris</span></em>, <em class="sig-param"><span class="n">xProds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#toblerone.classes.surfaces.Surface" title="toblerone.classes.surfaces.Surface"><code class="xref py py-class docutils literal notranslate"><span class="pre">toblerone.classes.surfaces.Surface</span></code></a></p>
<p>Subclass of Surface that represents a small patch of surface.
Points, triangles and xProds are all inherited from the parent surface.
This class should not be directly created but instead instantiated via
the Surface.to_patch() / to_patches() methods.</p>
<dl class="py method">
<dt id="toblerone.classes.surfaces.Patch.shrink">
<code class="sig-name descname">shrink</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">fltr</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Patch.shrink" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a shrunk copy of the patch by applying the logical
filter fltr to the calling objects tris and xprods matrices</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="toblerone.classes.surfaces.Surface">
<em class="property">class </em><code class="sig-prename descclassname">toblerone.classes.surfaces.</code><code class="sig-name descname">Surface</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em>, <em class="sig-param"><span class="n">space</span><span class="o">=</span><span class="default_value">'world'</span></em>, <em class="sig-param"><span class="n">struct</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulates a surface’s points, triangles and associations data.
Create either by passing a file path (as below) or use the static class
method Surface.manual() to directly pass points and triangles.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> – path to file (.gii/FS binary/meshio compatible)</p></li>
<li><p><strong>space</strong> – ‘world’ (default) or ‘first’; coordinate system of surface</p></li>
<li><p><strong>struct</strong> – if in ‘first’ space, then path to structural image used by FIRST</p></li>
<li><p><strong>name</strong> – optional, can be useful for progress bars</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.applyTransform">
<code class="sig-name descname">applyTransform</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">transform</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.applyTransform" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply affine transformation (4x4 array) to surface coordinates</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.calculateXprods">
<code class="sig-name descname">calculateXprods</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.calculateXprods" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate and store surface element normals</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.find_bridges">
<code class="sig-name descname">find_bridges</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.find_bridges" title="Permalink to this definition">¶</a></dt>
<dd><p>Find voxels within space that are intersected by this surface
multiple times</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>space</strong> – ImageSpace, or path to image, in which to find bridge voxels
NB the surface must have been indexed in this space already
(see Surface.index_on)</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>array of linear voxel indices</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.form_associations">
<code class="sig-name descname">form_associations</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">8</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.form_associations" title="Permalink to this definition">¶</a></dt>
<dd><p>Identify which triangles of a surface intersect each voxel. This
reduces the number of operations that need be performed later. The
results will be stored on the surface object (ie, self)</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>None, but associations (sparse CSR matrix of size (voxs, tris)
and assocs_keys (array of voxel indices containint the surface)
will be set on the calling object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.index_on">
<code class="sig-name descname">index_on</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">space</span></em>, <em class="sig-param"><span class="n">struct2ref</span></em>, <em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">8</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.index_on" title="Permalink to this definition">¶</a></dt>
<dd><p>Index a surface to an ImageSpace. The space must enclose the surface
completely (see ImageSpace.minimal_enclosing()). The surface will be
transformed into voxel coordinates for the space, triangle/voxel
associations calculated and stored on the surface’s assocs
attributes, surface normals calculated (triangle cross products) and
finally voxelised within the space (binary mask of voxels contained in
the surface). See also Surface.reindex_for() method.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>space</strong> – ImageSpace object large enough to contain the surface</p></li>
<li><p><strong>affine</strong> – 4x4 np.array representing transformation into the reference
space, in world-world mm terms (not FLIRT scaled-voxels). See
utils._FLIRT_to_world for help. Pass None to represent identity.</p></li>
</ul>
</dd>
</dl>
<dl class="simple">
<dt>Updates:</dt><dd><p>self.points: converted into voxel coordinates for the space
self.assocs: sparse CSR bool matrix of size (voxs, tris)
self.assocs_keys: voxel indices that contain surface
self.xProds: triangle cross products, voxel coordinates</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.manual">
<em class="property">classmethod </em><code class="sig-name descname">manual</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">ps</span></em>, <em class="sig-param"><span class="n">ts</span></em>, <em class="sig-param"><span class="n">name</span><span class="o">=</span><span class="default_value">None</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.manual" title="Permalink to this definition">¶</a></dt>
<dd><p>Manual surface constructor using points and triangles arrays</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.output_pvs">
<code class="sig-name descname">output_pvs</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.output_pvs" title="Permalink to this definition">¶</a></dt>
<dd><p>Express PVs in the voxel grid of space. Space must derive from the
surface’s current index_space.</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.rebaseTriangles">
<code class="sig-name descname">rebaseTriangles</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">tri_inds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.rebaseTriangles" title="Permalink to this definition">¶</a></dt>
<dd><p>Re-express a patch of a larger surface as a new points and triangle
matrix pair, indexed from 0. Useful for reducing computational
complexity when working with a small patch of a surface where only
a few nodes in the points array are required by the triangles matrix.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>tri_inds</strong> – t x 1 list of triangle numbers to rebase.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(points, tris) tuple of re-indexed points/tris.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.reindex_LUT">
<code class="sig-name descname">reindex_LUT</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.reindex_LUT" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a copy of LUT indices expressed in another space</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.reindexing_filter">
<code class="sig-name descname">reindexing_filter</code><span class="sig-paren">(</span><em class="sig-param"><span class="o">*</span><span class="n">args</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.reindexing_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter of voxels in the current index space that lie within
dest_space. Use for extracting PV estimates from index space back to
the space from which the index space derives. NB dest_space must
derive from the surface’s current index_space</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dest_space</strong> – ImageSpace from which current index_space derives</p></li>
<li><p><strong>as_bool</strong> – output results as logical filters instead of indices
(note they will be of different size in this case)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>(src_inds, dest_inds) arrays of equal length, flat indices into
arrays of size index_space.size and dest_space.size respectively,
mapping voxels from source to corresponding destination positions</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.save">
<code class="sig-name descname">save</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.save" title="Permalink to this definition">¶</a></dt>
<dd><p>Save surface as .surf.gii (default), .vtk or .white/.pial at path.</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.save_metric">
<code class="sig-name descname">save_metric</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">data</span></em>, <em class="sig-param"><span class="n">path</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.save_metric" title="Permalink to this definition">¶</a></dt>
<dd><p>Save vertex-wise data as a .func.gii at path</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.to_patch">
<code class="sig-name descname">to_patch</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vox_idx</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.to_patch" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patch object specific to a voxel given by linear index.
Look up the triangles intersecting the voxel, and then load and rebase
the points / surface normals as required.</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.to_patches">
<code class="sig-name descname">to_patches</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">vox_inds</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.to_patches" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the patches for the voxels in voxel indices, flattened into
a single set of ps, ts and xprods.</p>
<p>If no patches exist for this list of voxels return None.</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.to_polydata">
<code class="sig-name descname">to_polydata</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.to_polydata" title="Permalink to this definition">¶</a></dt>
<dd><p>Return pyvista polydata object for this surface</p>
</dd></dl>

<dl class="py method">
<dt id="toblerone.classes.surfaces.Surface.voxelise">
<code class="sig-name descname">voxelise</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">cores</span><span class="o">=</span><span class="default_value">8</span></em><span class="sig-paren">)</span><a class="headerlink" href="#toblerone.classes.surfaces.Surface.voxelise" title="Permalink to this definition">¶</a></dt>
<dd><p>Voxelise surface within its current index space. A flat boolean
mask will be stored on the calling object as .voxelised.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>cores</strong> – number of cores to use</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-toblerone.classes">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-toblerone.classes" title="Permalink to this headline">¶</a></h2>
<p>Toblerone classes</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tom Kirk

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>